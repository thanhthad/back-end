# ===================================================================
# Cấu hình Spring Boot Application
# ===================================================================

# Cấu hình Server Port
server.port=8080

# ===================================================================
# Cấu hình Hugging Face Inference API
# ===================================================================
# Lưu ý: Các giá trị hugginface.api.token, huggingface.model.id.domain-check
# và huggingface.model.id.multilabel sẽ được tải từ file .env
# thông qua lớp EnvConfig.java, không cần khai báo lại ở đây.
huggingface.api.url=https://api-inference.huggingface.co/models/


# ===================================================================
# Cấu hình Database (MySQL với XAMPP)
# ===================================================================
spring.datasource.url=jdbc:mysql://localhost:3306/email_analyzer_db?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC
spring.datasource.username=root
# Mặc định XAMPP thường không có password cho user root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ===================================================================
# Cấu hình JPA/Hibernate
# ===================================================================
# 'update': Hibernate sẽ cập nhật schema database cho phù hợp với các entity.
# Cẩn thận khi sử dụng trong môi trường production, thường dùng 'none' hoặc 'validate'.
spring.jpa.hibernate.ddl-auto=update
# Hiển thị các câu lệnh SQL được Hibernate tạo ra trong console
spring.jpa.show-sql=true
# Hibernate sẽ tự động chọn MySQLDialect cho MySQL 8+
# Dòng này không cần thiết với Hibernate phiên bản mới và tránh cảnh báo
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# Mặc định Spring Data JPA mở một phiên Hibernate trong suốt quá trình xử lý view.
# Điều này có thể gây ra các truy vấn N+1.
# Bạn có thể tắt nó nếu không cần lazy loading trong view rendering
# hoặc nếu bạn xử lý tải dữ liệu trong service layer.
# spring.jpa.open-in-view=false


# ===================================================================
# Cấu hình Logging
# ===================================================================
# Cấu hình mức độ log cho Hibernate SQL (DEBUG để hiển thị SQL, TRACE để hiển thị tham số)
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE


# ===================================================================
# Cấu hình CORS (Cross-Origin Resource Sharing) cho Frontend React
# ===================================================================
# Cho phép frontend React từ http://localhost:5173 truy cập API
spring.web.cors.allowed-origins=http://localhost:5173
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true
spring.web.cors.max-age=3600


# ===================================================================
# Cấu hình Mail Service (cho Gmail SMTP)
# ===================================================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=tauhaitac3k@gmail.com
# Mật khẩu ứng dụng (App Password) của Gmail, không phải mật khẩu tài khoản của bạn
spring.mail.password=ydgz qiwd jopj hsgq
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true